# بوت تليجرام AIPoweredProBot

## نظرة عامة

بوت تليجرام احترافي مدعوم بنماذج الذكاء الاصطناعي يوفر الوصول إلى أفضل خدمات نماذج الذكاء الاصطناعي على منصة واحدة مع تعدد المهام. يتيح البوت للمستخدمين الوصول إلى مجموعة متنوعة من نماذج الذكاء الاصطناعي مثل ChatGPT وClaude وGemini وDALL•E 3 وMidjourney وFlux وSuno وغيرها.

## المميزات الرئيسية

- **تعدد نماذج الذكاء الاصطناعي**: دعم لمجموعة واسعة من نماذج الذكاء الاصطناعي مع إمكانية إضافة المزيد.
- **نظام اشتراكات متكامل**: اشتراكات مجانية ومدفوعة مع حزم مختلفة.
- **نظام محافظ**: إنشاء محافظ للمستخدمين تلقائياً وإمكانية شراء رصيد النجوم.
- **بوابة دفع**: ربط مع بوابة دفع Plisio لشراء العملات باستخدام نجوم تليجرام.
- **لوحة تحكم للمسؤول**: إدارة المستخدمين والمسؤولين ومفاتيح API والإحصائيات.
- **تعدد اللغات**: دعم للعديد من اللغات مع إمكانية إضافة المزيد بسهولة.
- **واجهة مستخدم سهلة**: واجهة تفاعلية سهلة الاستخدام مع أزرار وقوائم.
- **إنشاء نصوص**: إنشاء نصوص باستخدام نماذج مختلفة مثل GPT-4 وClaude.
- **إنشاء صور**: إنشاء صور باستخدام Midjourney وDALL•E 3 وFlux.
- **إنشاء فيديوهات**: إنشاء فيديوهات باستخدام Kling AI وPika.
- **إنشاء أغاني**: إنشاء أغاني باستخدام Suno.
- **بحث ذكي**: بحث على الويب باستخدام Perplexity.

## هيكلية المشروع

```
AIPoweredProBot/
├── bot.py                # الملف الرئيسي للبوت
├── config.py             # ملف الإعدادات
├── database.py           # ملف قاعدة البيانات
├── admin.py              # ملف إدارة المسؤولين
├── users.py              # ملف إدارة المستخدمين
├── wallet.py             # ملف إدارة المحافظ
├── api_keys.py           # ملف إدارة مفاتيح API
├── subscriptions.py      # ملف إدارة الاشتراكات
├── languages.py          # ملف إدارة اللغات
├── commands.py           # ملف الأوامر والردود
├── payments.py           # ملف إدارة المدفوعات
├── ai_models.py          # ملف التعامل مع نماذج الذكاء الاصطناعي
├── tests.py              # ملف الاختبارات
├── lang/                 # مجلد ملفات اللغات
│   ├── ar.json           # ملف اللغة العربية
│   ├── en.json           # ملف اللغة الإنجليزية
│   └── ...               # ملفات لغات أخرى
└── database.db           # قاعدة البيانات
```

## شرح الملفات

### bot.py

الملف الرئيسي للبوت الذي يحتوي على نقطة البداية والإعداد الأساسي. يقوم بتهيئة البوت وتسجيل جميع المعالجات وبدء تشغيل البوت.

### config.py

ملف الإعدادات الذي يحتوي على المتغيرات الثابتة مثل توكن البوت ومعرف المسؤول ومفتاح Plisio ومسارات الملفات وإعدادات الاشتراكات والحزم.

### database.py

ملف قاعدة البيانات الذي يحتوي على فئة `Database` التي توفر واجهة للتعامل مع قاعدة البيانات SQLite. يتضمن وظائف لإنشاء الجداول وإدارة المستخدمين والمحافظ والاشتراكات ومفاتيح API.

### admin.py

ملف إدارة المسؤولين الذي يحتوي على وظائف للتحقق من صلاحيات المسؤول وإدارة المسؤولين وعرض لوحة تحكم المسؤول.

### users.py

ملف إدارة المستخدمين الذي يحتوي على وظائف لإدارة المستخدمين وعرض معلومات المستخدم وتحديث إعدادات المستخدم.

### wallet.py

ملف إدارة المحافظ الذي يحتوي على وظائف لإنشاء وإدارة محافظ المستخدمين وتحديث الأرصدة وعرض معلومات المحفظة.

### api_keys.py

ملف إدارة مفاتيح API الذي يحتوي على وظائف لإدارة مفاتيح API للنماذج المختلفة وإظهار/إخفاء النماذج حسب توفر المفاتيح.

### subscriptions.py

ملف إدارة الاشتراكات الذي يحتوي على وظائف لإدارة اشتراكات المستخدمين والتحقق من حالة الاشتراك وتحديث أرصدة الطلبات.

### languages.py

ملف إدارة اللغات الذي يحتوي على وظائف لتحميل ملفات الترجمة والحصول على النصوص المترجمة حسب لغة المستخدم.

### commands.py

ملف الأوامر والردود الذي يحتوي على وظائف معالجة الأوامر والردود التفاعلية مثل /start و/help و/settings وغيرها.

### payments.py

ملف إدارة المدفوعات الذي يحتوي على وظائف للتعامل مع بوابة دفع Plisio وإنشاء معاملات الدفع والتحقق من حالة المعاملات.

### ai_models.py

ملف التعامل مع نماذج الذكاء الاصطناعي الذي يحتوي على وظائف للتعامل مع واجهات برمجة التطبيقات (APIs) للنماذج المختلفة.

### tests.py

ملف الاختبارات الذي يحتوي على اختبارات وحدة للتأكد من عمل جميع أجزاء البوت بشكل صحيح.

## متطلبات التشغيل

- Python 3.9 أو أحدث
- python-telegram-bot v22.1
- SQLite3
- المكتبات المطلوبة (يمكن تثبيتها باستخدام pip):
  - python-telegram-bot
  - requests
  - openai
  - anthropic
  - google-generativeai
  - pillow
  - pydub

## التثبيت والإعداد

1. قم بتثبيت Python 3.9 أو أحدث.
2. قم بتثبيت المكتبات المطلوبة:

```bash
pip install python-telegram-bot==22.1 requests openai anthropic google-generativeai pillow pydub
```

3. قم بنسخ ملفات المشروع إلى المسار المطلوب:

```bash
mkdir -p /home/ec2-user/projects/AIPoweredProBot
cp -r * /home/ec2-user/projects/AIPoweredProBot
```

4. قم بتعديل ملف config.py لضبط الإعدادات حسب الحاجة.

5. قم بتشغيل البوت:

```bash
cd /home/ec2-user/projects/AIPoweredProBot
python3 bot.py
```

## إعداد البوت كخدمة

لتشغيل البوت كخدمة في الخلفية، يمكن استخدام systemd:

1. قم بإنشاء ملف خدمة:

```bash
sudo nano /etc/systemd/system/aiprobot.service
```

2. أضف المحتوى التالي:

```
[Unit]
Description=AI Powered Pro Bot
After=network.target

[Service]
User=ec2-user
WorkingDirectory=/home/ec2-user/projects/AIPoweredProBot
ExecStart=/usr/bin/python3 bot.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

3. قم بتفعيل وتشغيل الخدمة:

```bash
sudo systemctl enable aiprobot
sudo systemctl start aiprobot
```

4. للتحقق من حالة الخدمة:

```bash
sudo systemctl status aiprobot
```

## استخدام البوت

### الأوامر الأساسية

- `/start` - بدء استخدام البوت والحصول على معلومات الترحيب
- `/help` - الحصول على المساعدة
- `/account` - عرض معلومات الحساب والرصيد
- `/premium` - اختيار وشراء اشتراك مميز
- `/model` - اختيار نموذج الذكاء الاصطناعي
- `/settings` - تعديل إعدادات البوت
- `/admin` - الوصول إلى لوحة تحكم المسؤول (للمسؤولين فقط)

### أوامر إنشاء المحتوى

- `/photo` - إنشاء وتحرير الصور
- `/video` - إنشاء مقاطع فيديو
- `/midjourney` - إنشاء صور باستخدام Midjourney
- `/imagine` أو `/i` - اختصار لإنشاء صور باستخدام Midjourney
- `/chirp` - إنشاء أغاني باستخدام Suno
- `/s` - البحث الذكي على الويب

### لوحة تحكم المسؤول

يمكن للمسؤولين الوصول إلى لوحة تحكم المسؤول باستخدام الأمر `/admin`. تتيح لوحة التحكم:

- إدارة المسؤولين: إضافة وإزالة مسؤولين
- إدارة المستخدمين: البحث عن مستخدم، تعديل رصيد محفظة، تعديل اشتراك
- إدارة مفاتيح API: إضافة وتعديل وإزالة مفاتيح API للنماذج
- عرض إحصائيات البوت: عدد المستخدمين، المستخدمين النشطين، إجمالي الإنفاق، إجمالي الرصيد المتاح
- إرسال رسالة للجميع: إرسال رسالة إلى جميع المستخدمين

## نظام الاشتراكات والحزم

### الاشتراكات

- **مجاني**: 50 طلباً نصياً في الأسبوع، نماذج مجانية مثل GPT-4.1 mini وDeepSeek-V3 وGemini 2.5 Flash وبحث الويب مع Perplexity وGPT-4o Images.
- **الاشتراك المميز**: يتيح الوصول إلى نماذج إضافية ويزيد عدد الطلبات الأسبوعية.
- **الاشتراك المميز X2**: مضاعفة مزايا الاشتراك المميز.
- **كومبو**: يجمع بين مزايا جميع الاشتراكات والحزم.

### الحزم

- **حزم ChatGPT**: للوصول إلى نماذج OpenAI مثل GPT-4.5 وGPT-4.1 وGPT-4o وDALL•E 3.
- **حزم Claude**: للوصول إلى نماذج Claude مثل Claude 4 Sonnet وClaude 4 Thinking.
- **حزم الصور**: للوصول إلى Midjourney وFlux لإنشاء الصور.
- **حزم الفيديو**: للوصول إلى Kling AI وPika لإنشاء الفيديوهات.
- **حزم Suno**: للوصول إلى Suno لإنشاء الأغاني.

## نظام المحافظ والدفع

يتم إنشاء محافظ للمستخدمين تلقائياً عند بدء أول محادثة مع البوت. يمكن للمستخدمين شراء رصيد النجوم من خلال بوابة دفع Plisio وإيداعها في محفظة المشترك. يستطيع المستخدم شراء العروض والحزم عند توفر رصيد عملات أكبر أو يساوي ثمن الحزمة أو العرض.

## نظام تعدد اللغات

يدعم البوت العديد من اللغات مثل العربية والإنجليزية والروسية والإسبانية والفرنسية والبرتغالية. يمكن للمستخدمين تغيير لغة الواجهة من خلال إعدادات البوت. يمكن إضافة لغات جديدة بسهولة عن طريق إضافة ملفات ترجمة جديدة في مجلد `lang/`.

## نظام إدارة مفاتيح API

يتيح البوت للمسؤولين إدارة مفاتيح API للنماذج المختلفة. يتم إظهار/إخفاء النماذج للمستخدمين حسب توفر المفاتيح. يمكن للمسؤولين إضافة وتعديل وإزالة مفاتيح API من خلال لوحة تحكم المسؤول.

## الصيانة والتطوير

### النسخ الاحتياطي

من المهم إجراء نسخ احتياطي منتظم لقاعدة البيانات:

```bash
cp /home/ec2-user/projects/AIPoweredProBot/database.db /home/ec2-user/backups/database_$(date +%Y%m%d).db
```

### تحديث البوت

لتحديث البوت:

1. قم بإيقاف الخدمة:

```bash
sudo systemctl stop aiprobot
```

2. قم بتحديث الملفات:

```bash
cd /home/ec2-user/projects/AIPoweredProBot
git pull  # إذا كان المشروع مستضافاً على Git
# أو قم بنسخ الملفات المحدثة يدوياً
```

3. قم بتشغيل الخدمة مرة أخرى:

```bash
sudo systemctl start aiprobot
```

### إضافة لغة جديدة

لإضافة لغة جديدة:

1. قم بنسخ أحد ملفات اللغة الموجودة:

```bash
cp /home/ec2-user/projects/AIPoweredProBot/lang/en.json /home/ec2-user/projects/AIPoweredProBot/lang/new_lang.json
```

2. قم بترجمة النصوص في الملف الجديد.

3. قم بتحديث قائمة اللغات المدعومة في ملف `languages.py`.

### إضافة نموذج ذكاء اصطناعي جديد

لإضافة نموذج ذكاء اصطناعي جديد:

1. قم بإضافة مفتاح API للنموذج من خلال لوحة تحكم المسؤول.

2. قم بتحديث ملف `ai_models.py` لدعم النموذج الجديد.

3. قم بتحديث ملف `commands.py` لإضافة أوامر جديدة للنموذج إذا لزم الأمر.

## استكشاف الأخطاء وإصلاحها

### مشاكل الاتصال

إذا واجه البوت مشاكل في الاتصال بـ Telegram API:

1. تحقق من اتصال الإنترنت:

```bash
ping api.telegram.org
```

2. تحقق من صحة توكن البوت في ملف `config.py`.

3. تحقق من سجلات البوت:

```bash
sudo journalctl -u aiprobot
```

### مشاكل قاعدة البيانات

إذا واجه البوت مشاكل في قاعدة البيانات:

1. تحقق من وجود قاعدة البيانات:

```bash
ls -la /home/ec2-user/projects/AIPoweredProBot/database.db
```

2. تحقق من صلاحيات الملف:

```bash
chmod 644 /home/ec2-user/projects/AIPoweredProBot/database.db
```

3. قم بإصلاح قاعدة البيانات إذا لزم الأمر:

```bash
sqlite3 /home/ec2-user/projects/AIPoweredProBot/database.db "PRAGMA integrity_check;"
```

### مشاكل مفاتيح API

إذا لم تعمل بعض النماذج:

1. تحقق من وجود مفاتيح API صالحة في قاعدة البيانات.

2. تحقق من صلاحية المفاتيح عن طريق اختبارها مباشرة مع واجهات برمجة التطبيقات المعنية.

## الخاتمة

بوت AIPoweredProBot هو بوت تليجرام احترافي يوفر الوصول إلى أفضل خدمات نماذج الذكاء الاصطناعي على منصة واحدة. يتميز البوت بنظام اشتراكات متكامل ونظام محافظ وبوابة دفع ولوحة تحكم للمسؤول ودعم لتعدد اللغات. يمكن تخصيص البوت وتوسيعه بسهولة لتلبية احتياجات مختلفة.

للمزيد من المعلومات أو المساعدة، يرجى التواصل مع المسؤول @NaJiMaS.
